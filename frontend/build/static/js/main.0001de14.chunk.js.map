{"version":3,"sources":["container/Home.js","context/AuthContext/AuthTypes.js","context/AuthContext/authReducer.js","context/AuthContext/AuthContext.js","components/Navbar.js","components/Login.js","components/Signup.js","container/LoginSignup.js","container/Activate.js","container/NotFound.js","container/GoogleAuthCatcher.js","container/FacebookAuthCatch.js","App.js","index.js"],"names":["Home","LOGIN_SUCCESS","LOGIN_FAIL","LOAD_USER_SUCCESS","LOAD_USER_FAIL","AUTHENTICATE_SUCCESS","AUTHENTICATE_FAIL","LOGOUT","ACTIVATE_SUCCESS","ACTIVATE_FAIL","initialState","access","localStorage","getItem","refresh","isAuthenticated","user","loginFailed","authReducer","state","action","type","payload","setItem","loginFail","console","log","removeItem","urlAuthenticateGoogle","urlAuthenticateFacebook","AuthContext","React","createContext","AuthProvider","children","useReducer","dispatch","login","email","password","a","config","headers","body","JSON","stringify","axios","post","res","data","loadUser","Authorization","Accept","get","verifyTokenAuthenticated","token","code","signup","first_name","last_name","re_password","activateAccount","uid","error","continueWithGoogle","window","location","replace","authorization_url","googleAuthenticate","details","formBody","Object","keys","map","key","encodeURIComponent","join","continueWithFacebook","facebookAuthenticate","Provider","value","authState","logout","useAuthContext","useContext","Navbar","to","href","onClick","e","Login","useState","loginFormData","setLoginFormData","onChange","target","name","onSubmit","preventDefault","placeholder","required","autoComplete","Signup","accountCreated","setAccountCreated","signupFormData","setSignupFormData","LoginSignup","Activate","match","params","authStates","useEffect","NotFound","GoogleAuthCatcher","useLocation","values","queryString","parse","search","isAuthenticate","FacebookAuthCatch","App","className","exact","path","component","container","document","getElementById","ReactDOM","render","StrictMode","debugContextDevtool"],"mappings":"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","file":"static/js/main.0001de14.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Home = () => {\r\n    return (\r\n        <div>\r\n            HYome\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","export const LOGIN_SUCCESS = 'LOGIN_SUCCESS'\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL'\r\nexport const LOAD_USER_SUCCESS = 'LOAD_USER_SUCCESS'\r\nexport const LOAD_USER_FAIL = 'LOAD_USER_FAIL'\r\nexport const AUTHENTICATE_SUCCESS = 'AUTHENTICATE_SUCCESS'\r\nexport const AUTHENTICATE_FAIL = 'AUTHENTICATE_FAIL'\r\nexport const LOGOUT = 'LOGOUT'\r\nexport const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS'\r\nexport const SIGNUP_FAIL = 'SIGNUP_FAIL'\r\nexport const ACTIVATE_SUCCESS = 'ACTIVATE_SUCCESS'\r\nexport const ACTIVATE_FAIL = 'ACTIVATE_FAIL'\r\n\r\nexport const GOOGLE_AUTH_SUCCESS = 'GOOGLE_AUTH_SUCCESS'\r\nexport const GOOGLE_AUTH_FAIL = 'GOOGLE_AUTH_FAIL'\r\nexport const FACEBOOK_AUTH_SUCCESS = 'FACEBOOK_AUTH_SUCCESS'\r\nexport const FACEBOOK_AUTH_FAIL = 'FACEBOOK_AUTH_FAIL'\r\n\r\n","import {\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOAD_USER_SUCCESS,\r\n  LOAD_USER_FAIL,\r\n  LOGOUT,\r\n  AUTHENTICATE_SUCCESS,\r\n  AUTHENTICATE_FAIL,\r\n  ACTIVATE_FAIL,\r\n  ACTIVATE_SUCCESS,\r\n} from \"./AuthTypes\";\r\n\r\nexport const initialState = {\r\n  access: localStorage.getItem(\"access\"),\r\n  refresh: localStorage.getItem(\"refresh\"),\r\n  isAuthenticated: null,\r\n  user: null,\r\n  loginFailed: false,\r\n};\r\n\r\nexport default function authReducer(state, action) {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case AUTHENTICATE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n      };\r\n\r\n    case LOGIN_SUCCESS:\r\n      localStorage.setItem(\"access\", payload.access);\r\n      localStorage.setItem(\"refresh\", payload.refresh);\r\n      return {\r\n        ...state,\r\n        access: payload.access,\r\n        refresh: payload.refresh,\r\n        isAuthenticated: true,\r\n        loginFail: false,\r\n      };\r\n    case LOAD_USER_SUCCESS:\r\n      console.log(LOAD_USER_SUCCESS, payload);\r\n      return {\r\n        ...state,\r\n        user: payload.user,\r\n      };\r\n\r\n    case LOGIN_FAIL:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n        loginFail: true,\r\n      };\r\n\r\n    case ACTIVATE_SUCCESS:\r\n    case ACTIVATE_FAIL:\r\n    case AUTHENTICATE_FAIL:\r\n    case LOAD_USER_FAIL:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n        user: null,\r\n      };\r\n\r\n    case LOGOUT:\r\n      localStorage.removeItem(\"access\");\r\n      localStorage.removeItem(\"refresh\");\r\n      return {\r\n        ...initialState,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React, { useContext, useReducer, useState } from \"react\";\r\nimport authReducer, { initialState } from \"./authReducer\";\r\nimport axios from \"axios\";\r\nimport {\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOAD_USER_SUCCESS,\r\n  LOAD_USER_FAIL,\r\n  AUTHENTICATE_SUCCESS,\r\n  AUTHENTICATE_FAIL,\r\n  LOGOUT,\r\n  SIGNUP_FAIL,\r\n  SIGNUP_SUCCESS,\r\n  ACTIVATE_SUCCESS,\r\n  ACTIVATE_FAIL,\r\n  GOOGLE_AUTH_SUCCESS,\r\n  GOOGLE_AUTH_FAIL,\r\n  FACEBOOK_AUTH_SUCCESS,\r\n  FACEBOOK_AUTH_FAIL,\r\n} from \"./AuthTypes\";\r\n\r\nconst urlLogin = \"http://localhost:8000/auth/jwt/create/\";\r\nconst urlGetUser = \"http://localhost:8000/auth/users/me/\";\r\nconst urlVerifyToken = \"http://localhost:8000/auth/jwt/verify\";\r\nconst urlRefreshToken = \"\";\r\nconst urlRegister = \"http://localhost:8000/auth/users/\";\r\nconst urlActivation = \"http://localhost:8000/auth/users/activation/\";\r\nconst urlContinueGoogle =\r\n  \"http://localhost:8000/auth/o/google-oauth2/?redirect_uri=http://localhost:8000/auth/google\";\r\nconst urlAuthenticateGoogle = \"http://localhost:8000/auth/o/google-oauth2/?\";\r\nconst urlContinueFacebook =\r\n  \"http://localhost:8000/auth/o/facebook/?redirect_uri=http://localhost:8000/auth/facebook\";\r\n  \r\nconst urlAuthenticateFacebook = \"http://localhost:8000/auth/o/facebook/?\";\r\n\r\nconst AuthContext = React.createContext();\r\n\r\n// to wrap the components\r\nconst AuthProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(authReducer, initialState);\r\n\r\n  const login = async (email, password) => {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    const body = JSON.stringify({ email, password });\r\n    try {\r\n      const res = await axios.post(urlLogin, body, config);\r\n      dispatch({\r\n        type: LOGIN_SUCCESS,\r\n        payload: {\r\n          ...res.data,\r\n        },\r\n      });\r\n      dispatch(loadUser());\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch({\r\n        type: LOGIN_FAIL,\r\n      });\r\n    }\r\n  };\r\n\r\n  const loadUser = async () => {\r\n    if (localStorage.getItem(\"access\")) {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `JWT ${localStorage.getItem(\"access\")}`,\r\n          Accept: \"application/json\",\r\n        },\r\n      };\r\n      try {\r\n        const res = await axios.get(urlGetUser, config);\r\n        dispatch({\r\n          type: LOAD_USER_SUCCESS,\r\n          payload: {\r\n            user: res.data,\r\n          },\r\n        });\r\n      } catch (error) {\r\n        console.log(error);\r\n        dispatch({\r\n          type: LOAD_USER_FAIL,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const verifyTokenAuthenticated = async () => {\r\n    if (localStorage.getItem(\"access\")) {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      };\r\n      const body = JSON.stringify({ token: localStorage.getItem(\"access\") });\r\n      try {\r\n        const res = await axios.post(urlVerifyToken, body, config);\r\n        if (res.data.code !== \"token_not_valid\") {\r\n          dispatch({\r\n            type: AUTHENTICATE_SUCCESS,\r\n          });\r\n        } else {\r\n          dispatch({\r\n            type: AUTHENTICATE_FAIL,\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.log(\"error on verifying token\", error);\r\n        dispatch({\r\n          type: AUTHENTICATE_FAIL,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    dispatch({\r\n      type: LOGOUT,\r\n    });\r\n  };\r\n\r\n  const signup = async (\r\n    email,\r\n    first_name,\r\n    last_name,\r\n    password,\r\n    re_password\r\n  ) => {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    const body = JSON.stringify({\r\n      first_name,\r\n      last_name,\r\n      email,\r\n      password,\r\n      re_password,\r\n    });\r\n    try {\r\n      console.log(body);\r\n      const res = await axios.post(urlRegister, body, config);\r\n\r\n      dispatch({\r\n        type: SIGNUP_SUCCESS,\r\n        payload: res.data,\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      dispatch({\r\n        type: SIGNUP_FAIL,\r\n      });\r\n    }\r\n  };\r\n\r\n  const activateAccount = async (uid, token) => {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    const body = JSON.stringify({ uid, token });\r\n    try {\r\n      const res = axios.post(urlActivation, body, config);\r\n      dispatch({\r\n        type: ACTIVATE_SUCCESS,\r\n      });\r\n    } catch (error) {\r\n      console.log(\"Activation Failed\", error);\r\n      dispatch({\r\n        type: ACTIVATE_FAIL,\r\n      });\r\n    }\r\n  };\r\n\r\n  // not an action.. but it's just nice to group it together\r\n  const continueWithGoogle = async () => {\r\n    try {\r\n      const res = await axios.get(urlContinueGoogle);\r\n      window.location.replace(res.data.authorization_url);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const googleAuthenticate = async (state, code) => {\r\n    if (state && code && !localStorage.getItem(\"access\")) {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        },\r\n      };\r\n      const details = {\r\n        state: state,\r\n        code: code,\r\n      };\r\n\r\n      const formBody = Object.keys(details)\r\n        .map(\r\n          (key) =>\r\n            encodeURIComponent(key) + \"=\" + encodeURIComponent(details[key])\r\n        )\r\n        .join(\"&\");\r\n\r\n      try {\r\n        console.log(\"posting to :\", urlAuthenticateGoogle + formBody);\r\n        const res = await axios.post(urlAuthenticateGoogle + formBody, config);\r\n        console.log(\"authenticate google success ?\", res.data);\r\n        dispatch({\r\n          type: GOOGLE_AUTH_SUCCESS,\r\n          payload: res.data,\r\n        });\r\n      } catch (error) {\r\n        console.log(\"authenticate google failed\", error);\r\n        dispatch({\r\n          type: GOOGLE_AUTH_FAIL,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const continueWithFacebook = async () => {\r\n    try {\r\n      const res = await axios.get(urlContinueFacebook);\r\n      window.location.replace(res.data.authorization_url);\r\n    } catch (error) {\r\n      console.log(\"continue with facebook error\", error);\r\n    }\r\n  };\r\n\r\n  const facebookAuthenticate = async (state, code) => {\r\n    if (state && code && !localStorage.getItem(\"access\")) {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        },\r\n      };\r\n      const details = {\r\n        state: state,\r\n        code: code,\r\n      };\r\n\r\n      const formBody = Object.keys(details)\r\n        .map(\r\n          (key) =>\r\n            encodeURIComponent(key) + \"=\" + encodeURIComponent(details[key])\r\n        )\r\n        .join(\"&\");\r\n\r\n      try {\r\n        console.log(\"posting to :\", urlAuthenticateFacebook + formBody);\r\n        const res = await axios.post(urlAuthenticateFacebook + formBody, config);\r\n        console.log(\"authenticate facebook success ?\", res.data);\r\n        dispatch({\r\n          type: FACEBOOK_AUTH_SUCCESS,\r\n          payload: res.data,\r\n        });\r\n      } catch (error) {\r\n        console.log(\"authenticate facebook failed\", error);\r\n        dispatch({\r\n          type: FACEBOOK_AUTH_FAIL,\r\n        });\r\n      }\r\n    }\r\n  };\r\n  // this is where the\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        authState: state,\r\n        login: login,\r\n        loadUser: loadUser,\r\n        verifyTokenAuthenticated: verifyTokenAuthenticated,\r\n        logout: logout,\r\n        signup: signup,\r\n        activateAccount: activateAccount,\r\n        continueWithGoogle: continueWithGoogle,\r\n        googleAuthenticate: googleAuthenticate,\r\n        continueWithFacebook: continueWithFacebook,\r\n        facebookAuthenticate: facebookAuthenticate,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\n// export the works\r\nconst useAuthContext = () => {\r\n  return useContext(AuthContext);\r\n};\r\n\r\nexport { AuthProvider, useAuthContext };\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAuthContext } from \"../context\";\r\n\r\nconst Navbar = () => {\r\n  const { authState, logout } = useAuthContext();\r\n\r\n  const handleLogout = () =>{\r\n      console.log('logging out')\r\n    logout()\r\n  } \r\n    \r\n  return (\r\n    <nav>\r\n      <Link to=\"/\">Home</Link>\r\n      <Link to=\"/login\">Login</Link>\r\n      <a href='' onClick={e=>{handleLogout()}}>Logout</a>\r\n      {authState.user && (\r\n        <>\r\n          <h1>{authState.user.email}</h1>\r\n          <h2>{authState.user.first_name + ' ' + authState.user.last_name}</h2>\r\n        </>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { useAuthContext } from \"../context\";\r\n\r\nconst Login = () => {\r\n  const { login, authState } = useAuthContext();\r\n  const [loginFormData, setLoginFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const { email, password } = loginFormData;\r\n\r\n  const onChange = (e) =>\r\n    setLoginFormData({ ...loginFormData, [e.target.name]: e.target.value });\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    login(email, password);\r\n    console.log(\"from onclick\", authState); // getting latest state in this form doestn work\r\n  };\r\n\r\n  if (authState.isAuthenticated){\r\n    return <Redirect to='/'/>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={(e) => onSubmit(e)}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"email\"\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={(e) => onChange(e)}\r\n          required\r\n          autoComplete='email'\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={(e) => onChange(e)}\r\n          required\r\n          autoComplete='current-password'\r\n        />\r\n        <button type=\"submit\">Login</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, {useState} from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { useAuthContext } from '../context'\r\n\r\nconst Signup = () => {\r\n  \r\n  const { signup, authState,continueWithGoogle, continueWithFacebook } = useAuthContext()\r\n  const [accountCreated, setAccountCreated] = useState(false)\r\n  const [signupFormData, setSignupFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n    re_password:'',\r\n    first_name:'',\r\n    last_name:''\r\n  })\r\n\r\n  const {email, password, re_password, first_name, last_name} = signupFormData\r\n  const onChange = e => setSignupFormData({\r\n    ...signupFormData,\r\n    [e.target.name]:e.target.value\r\n  })\r\n  \r\n  const onSubmit = e => {\r\n    e.preventDefault()\r\n    signup(email, first_name, last_name, password, re_password)\r\n    setAccountCreated(true)\r\n  }\r\n\r\n  if (authState.isAuthenticated){\r\n    return <Redirect to='/'/>\r\n  }\r\n  if (accountCreated){\r\n    return <Redirect to='/login'/>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={e => onSubmit(e)}>\r\n        <input\r\n          type='text'\r\n          placeholder='email'\r\n          name='email'\r\n          value={email}\r\n          onChange={e => onChange(e)}\r\n          required\r\n          autoComplete='email'\r\n        />\r\n        <input\r\n          type='password'\r\n          placeholder='password'\r\n          name='password'\r\n          value={password}\r\n          onChange={e => onChange(e)}\r\n          required\r\n          autoComplete='new-password'\r\n        />\r\n        <input\r\n          type='password'\r\n          placeholder='re-type password'\r\n          name='re_password'\r\n          value={re_password}\r\n          onChange={e => onChange(e)}\r\n          required\r\n          autoComplete='new-password'\r\n        />\r\n        <input\r\n          type='text'\r\n          placeholder='first name'\r\n          name='first_name'\r\n          value={first_name}\r\n          onChange={e => onChange(e)}\r\n          required\r\n        />\r\n        <input\r\n          type='text'\r\n          placeholder='last name'\r\n          name='last_name'\r\n          value={last_name}\r\n          onChange={e => onChange(e)}\r\n          required\r\n        />\r\n      <button type='submit'>Register</button>\r\n      </form>\r\n      <button onClick={e => continueWithGoogle()}>Continue With Google</button>\r\n      <button onClick={e => continueWithFacebook()}>Continue With Facebook</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Signup\r\n","import React from \"react\";\r\nimport { Signup, Login } from \"../components\";\r\nimport { useAuthContext } from \"../context\";\r\n\r\nconst LoginSignup = () => {\r\n  const { authState } = useAuthContext();\r\n\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <Login />\r\n      {authState.loginFail && <p>Wrong password or username is inserted</p>}\r\n      <h1>Signup</h1>\r\n      <Signup />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginSignup;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { useAuthContext } from \"../context\";\r\n\r\nconst Activate = ({ match }) => {\r\n  const uid = match.params.uid;\r\n  const token = match.params.token;\r\n  const { activateAccount, authStates } = useAuthContext();\r\n  \r\n\r\n  useEffect(() => {\r\n    activateAccount(uid, token)\r\n  },[])\r\n\r\n  return (\r\n    <div>\r\n      Your Account has been Activate ! Sending id : {token} and token : {uid}\r\n      <p>Go back to</p>\r\n      <Link to=\"/\">Home</Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Activate;\r\n","import React from 'react'\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div>\r\n            Page not found\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","import React, {useEffect} from \"react\";\r\nimport { Redirect, useLocation } from \"react-router-dom\";\r\nimport queryString from 'query-string'\r\nimport { useAuthContext } from \"../context\";\r\n\r\nconst GoogleAuthCatcher = () => {\r\n  let location = useLocation()\r\n  const {googleAuthenticate, authState} = useAuthContext()\r\n\r\n  useEffect(() => {\r\n    const values = queryString.parse(location.search)\r\n    const state = values.state ? values.state : null\r\n    const code = values.code ? values.code :null\r\n\r\n    if (state && code){\r\n      googleAuthenticate(state, code)\r\n    }\r\n  }, [location])\r\n\r\n  if (authState.isAuthenticate){\r\n    return <Redirect to='/'/>\r\n  }\r\n\r\n  return <div>Authenticting with Google</div>;\r\n};\r\n\r\nexport default GoogleAuthCatcher;\r\n","import React, {useEffect} from \"react\";\r\nimport { Redirect, useLocation } from \"react-router-dom\";\r\nimport queryString from 'query-string'\r\nimport { useAuthContext } from \"../context\";\r\n\r\nconst FacebookAuthCatch = () => {\r\n  let location = useLocation()\r\n  const {facebookAuthenticate, authState} = useAuthContext()\r\n\r\n  useEffect(() => {\r\n    const values = queryString.parse(location.search)\r\n    const state = values.state ? values.state : null\r\n    const code = values.code ? values.code :null\r\n\r\n    if (state && code){\r\n      facebookAuthenticate(state, code)\r\n    }\r\n  }, [location])\r\n\r\n  if (authState.isAuthenticate){\r\n    return <Redirect to='/'/>\r\n  }\r\n\r\n  return <div>Authenticting with Facebook</div>;\r\n};\r\n\r\nexport default FacebookAuthCatch;\r\n","import \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { Home, LoginSignup, Activate, NotFound, GoogleAuthCatcher } from \"./container\";\nimport { Navbar } from \"./components\";\nimport { useAuthContext } from \"./context\";\nimport { useEffect } from \"react\";\nimport FacebookAuthCatch from \"./container/FacebookAuthCatch\";\n\nfunction App() {\n\n  const {verifyTokenAuthenticated, loadUser} = useAuthContext()\n  useEffect(()=>{\n    verifyTokenAuthenticated()\n    loadUser()\n  },[])\n\n  return (\n      <Router>\n        <Navbar />\n        <div className=\"App\">\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route exact path=\"/login\" component={LoginSignup} />\n            <Route exact path=\"/activate/:uid/:token\" component={Activate} />\n            <Route exact path='/auth/google' component={GoogleAuthCatcher}/>\n            <Route exact path='/auth/facebook' component={FacebookAuthCatch}/> \n            <Route component={NotFound} />\n\n          </Switch>\n        </div>\n      </Router>\n    \n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport {AuthProvider} from \"./context\";\nimport { debugContextDevtool} from 'react-context-devtool'\n\nconst container = document.getElementById(\"root\")\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </React.StrictMode>,\n  container\n);\n\n\ndebugContextDevtool(container)"],"sourceRoot":""}